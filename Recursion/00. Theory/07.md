## Lecture 7: Sort a Stack

### Sorting a Stack Using Recursion (IBH Approach)

You can sort a stack in descending order using recursion by applying the Induction-Hypothesis-Base (IBH) method.

---

### Steps:

1. **Base Condition:**  
   If the stack is empty, it is already sorted.

2. **Hypothesis:**  
   Assume you can sort the stack with one less element (i.e., after popping the top).

3. **Induction:**  
   Sort the smaller stack recursively, then insert the popped element back into its correct position to maintain descending order.

---

### C++ Code:

```cpp
#include <iostream>
#include <stack>
using namespace std;

// Helper function to insert an element in sorted order
void insert(stack<int>& s, int temp) {
    if (s.empty() || s.top() <= temp) {
        s.push(temp);
        return;
    }
    int val = s.top();
    s.pop();
    insert(s, temp);
    s.push(val);
}

// Recursive function to sort the stack
void sortStack(stack<int>& s) {
    if (!s.empty()) {
        int temp = s.top();
        s.pop();
        sortStack(s);      // Hypothesis: sort the rest
        insert(s, temp);   // Induction: insert element in sorted order
    }
}

int main() {
    stack<int> s;
    s.push(4);
    s.push(1);
    s.push(3);
    s.push(2);

    sortStack(s);

    cout << "Sorted stack (descending order): ";
    while (!s.empty()) {
        cout << s.top() << " ";
        s.pop();
    }
    return 0;
}
```
## Why does this work?
- You reduce the problem size by one at each step (pop the top).
- You use the answer from the smaller problem (sorted smaller stack) to solve the bigger problem (insert the popped element).
- You always stop at the base case (empty stack).

### Complexity Analysis:
- **Time Complexity:**  
  `O(n^2)`, where `n` is the number of elements in the stack.  
  For each element, you may need to traverse and insert it into the sorted part, leading to quadratic time in the worst case.

- **Space Complexity:**  
  `O(n)`, due to the recursion stack.  
  The maximum depth of recursion is equal to the number of elements in the stack.

---

**In short:**

Use IBH to sort a stack recursively:
1. Stop at the base case,
2. Assume you can sort a smaller stack,
3. Use that to sort the full stack by inserting the popped element in the right place.
